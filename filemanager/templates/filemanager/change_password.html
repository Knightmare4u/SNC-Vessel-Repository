{% extends 'base.html' %}

{% block title %}Change Password - SNC{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 50px auto;">
    <div class="card">
        <h2 style="text-align: center; margin-bottom: 2rem; color: var(--primary-blue);">
            Change Your Password
        </h2>
        
        <p style="margin-bottom: 2rem; color: var(--gray); text-align: center;">
            For security reasons, you must change your password. <br>
            <strong>Requirements:</strong> Minimum 12 characters with uppercase, lowercase, numbers and special characters
        </p>
        
        {% if form.errors %}
        <div class="alert alert-error">
            <strong>Please correct the errors below:</strong>
            <ul>
                {% for field in form %}
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        
        <form method="post">
            {% csrf_token %}
            
            <div style="margin-bottom: 1rem;">
                <label for="id_old_password" style="display: block; margin-bottom: 0.5rem; color: var(--gray);">
                    Current Password
                </label>
                <input type="password" name="old_password" id="id_old_password" required 
                       style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 5px;">
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label for="id_new_password1" style="display: block; margin-bottom: 0.5rem; color: var(--gray);">
                    New Password
                </label>
                <input type="password" name="new_password1" id="id_new_password1" required 
                       style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 5px;">
                <small style="color: var(--gray); font-size: 0.8rem;">
                    Must be at least 12 characters with uppercase, lowercase, numbers and special characters.
                </small>
            </div>
            
            <div style="margin-bottom: 2rem;">
                <label for="id_new_password2" style="display: block; margin-bottom: 0.5rem; color: var(--gray);">
                    Confirm New Password
                </label>
                <input type="password" name="new_password2" id="id_new_password2" required 
                       style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 5px;">
            </div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%;">
                Change Password
            </button>
        </form>
    </div>
</div>
{% endblock %}